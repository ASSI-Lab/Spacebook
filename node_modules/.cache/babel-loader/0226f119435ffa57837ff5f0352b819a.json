{"ast":null,"code":"var IDLE_TIMEOUT = 900; //seconds\n\nvar _idleSecondsCounter = 0;\n\ndocument.onclick = function () {\n  _idleSecondsCounter = 0;\n};\n\ndocument.onmousemove = function () {\n  _idleSecondsCounter = 0;\n};\n\ndocument.onkeydown = function () {\n  _idleSecondsCounter = 0;\n};\n\nvar myInterval = window.setInterval(CheckIdleTime, 1000); // INTERVALLO DI TEMPO \n\nfunction CheckIdleTime() {\n  _idleSecondsCounter++;\n  var oPanel = document.getElementById(\"SecondsUntilExpire\");\n  if (oPanel) oPanel.innerHTML = IDLE_TIMEOUT - _idleSecondsCounter + \"\";\n\n  if (_idleSecondsCounter >= IDLE_TIMEOUT) {\n    window.location.href = '/session_timeout'; // FORZA LA DISCONNESSIONE IN CASO DI TEMPI DISCORDI TRA DEVISE E APPLICAZIONE\n\n    alert(\"Sessione scaduta sarai reindirizzato al login!\"); // PER IL MOMENTO UTILIZZO UN ALERT CHE REINDIRIZZA SOLO DOPO LA PRESSIONE DEL TASTO OK\n\n    window.clearInterval(myInterval);\n  }\n}","map":{"version":3,"names":["IDLE_TIMEOUT","_idleSecondsCounter","document","onclick","onmousemove","onkeydown","myInterval","window","setInterval","CheckIdleTime","oPanel","getElementById","innerHTML","location","href","alert","clearInterval"],"sources":["/home/matteo/Desktop/GitHub/Spacebook/app/javascript/packs/optimised_session_timeout_poller.js"],"sourcesContent":["var IDLE_TIMEOUT = 900; //seconds\nvar _idleSecondsCounter = 0;\ndocument.onclick = function() {\n  _idleSecondsCounter = 0;\n};\ndocument.onmousemove = function() {\n  _idleSecondsCounter = 0;\n};\ndocument.onkeydown = function() {\n  _idleSecondsCounter = 0;\n};\n\nvar myInterval = window.setInterval(CheckIdleTime, 1000);// INTERVALLO DI TEMPO \n\nfunction CheckIdleTime() {\n  _idleSecondsCounter++;\n  var oPanel = document.getElementById(\"SecondsUntilExpire\");\n  if (oPanel)\n    oPanel.innerHTML = (IDLE_TIMEOUT - _idleSecondsCounter) + \"\";\n  if (_idleSecondsCounter >= IDLE_TIMEOUT) {\n    window.location.href = '/session_timeout';// FORZA LA DISCONNESSIONE IN CASO DI TEMPI DISCORDI TRA DEVISE E APPLICAZIONE\n    alert(\"Sessione scaduta sarai reindirizzato al login!\");// PER IL MOMENTO UTILIZZO UN ALERT CHE REINDIRIZZA SOLO DOPO LA PRESSIONE DEL TASTO OK\n    window.clearInterval(myInterval);\n  }\n}"],"mappings":"AAAA,IAAIA,YAAY,GAAG,GAAnB,C,CAAwB;;AACxB,IAAIC,mBAAmB,GAAG,CAA1B;;AACAC,QAAQ,CAACC,OAAT,GAAmB,YAAW;EAC5BF,mBAAmB,GAAG,CAAtB;AACD,CAFD;;AAGAC,QAAQ,CAACE,WAAT,GAAuB,YAAW;EAChCH,mBAAmB,GAAG,CAAtB;AACD,CAFD;;AAGAC,QAAQ,CAACG,SAAT,GAAqB,YAAW;EAC9BJ,mBAAmB,GAAG,CAAtB;AACD,CAFD;;AAIA,IAAIK,UAAU,GAAGC,MAAM,CAACC,WAAP,CAAmBC,aAAnB,EAAkC,IAAlC,CAAjB,C,CAAyD;;AAEzD,SAASA,aAAT,GAAyB;EACvBR,mBAAmB;EACnB,IAAIS,MAAM,GAAGR,QAAQ,CAACS,cAAT,CAAwB,oBAAxB,CAAb;EACA,IAAID,MAAJ,EACEA,MAAM,CAACE,SAAP,GAAoBZ,YAAY,GAAGC,mBAAhB,GAAuC,EAA1D;;EACF,IAAIA,mBAAmB,IAAID,YAA3B,EAAyC;IACvCO,MAAM,CAACM,QAAP,CAAgBC,IAAhB,GAAuB,kBAAvB,CADuC,CACG;;IAC1CC,KAAK,CAAC,gDAAD,CAAL,CAFuC,CAEiB;;IACxDR,MAAM,CAACS,aAAP,CAAqBV,UAArB;EACD;AACF"},"metadata":{},"sourceType":"module"}